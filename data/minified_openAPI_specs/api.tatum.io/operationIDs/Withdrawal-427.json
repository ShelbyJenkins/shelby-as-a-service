{"metadata": {"tag": "Withdrawal", "tag_number": 0, "doc_number": 427, "operation_id": "storewithdrawal", "doc_url": "https://apidoc.tatum.io/tag/Withdrawal#operation/storewithdrawal", "server_url": "https://api.tatum.io/v3/offchain/withdrawal"}, "content": "path /v3/offchain/withdrawal\noperationId storeWithdrawal\nsummary Store withdrawal\ndescription 2 credits per API call\nCreate a withdrawal from Tatum Ledger account to the blockchain\n  BTC LTC DOGE BCH\n  \n    When withdrawal from Tatum is executed all deposits which are not processed yet are used as an input and\n    change is moved to pool address 0 of wallet for defined accounts xpub If there are no unspent deposits only last pool address 0 UTXO is used\n    If balance of wallet is not sufficient it is impossible to perform withdrawal from this account  funds were transferred to another\n    linked wallet within system or outside of Tatum visibility\n    For the first time of withdrawal from wallet there must be some deposit made and funds are obtained from that Since\n    there is no withdrawal there was no transfer to pool address 0 and thus it is not present in vIn Pool transfer is identified by missing dataaddress property in response\n    When last not cancelled withdrawal is not completed and thus there is no tx id of output transaction given\n    we cannot perform next withdrawal\n  \n  ETH\n  \n    Withdrawal from Tatum can be processed only from 1 account In Ethereum Blockchain each address is recognized as an account and only funds from that account can be sent in 1 transaction\n    Example Account A has 05 ETH Account B has 03 ETH Account A is linked to Tatum Account 1 Account B is linked to Tatum Account 2 Tatum Account 1 has balance 07 Ethereum and\n    Tatum Account 2 has 01 ETH Withdrawal from Tatum Account 1 can be at most 05 ETH even though balance in Tatum Private Ledger is 07 ETH\n    Because of this Ethereum Blockchain limitation withdrawal request should always contain sourceAddress from which withdrawal will be made To get available balances for Ethereum wallet accounts use hint endpoint\n  \n  XRP\n  \n    XRP withdrawal can contain DestinationTag except of address which is placed in attr parameter of withdrawal request\nSourceTag of the blockchain transaction should be withdrawal ID for autocomplete purposes of withdrawals\n  \n  XLM\n  \n    XLM withdrawal can contain memo except of address which is placed in attr parameter of withdrawal request XLM blockchain does not have possibility to enter source account information\n    It is possible to create memo in format destinationsource which is supported way of memo in Tatum and also there is information about the sender account in the blockchain\n  \n\nWhen withdrawal is created all other withdrawals with the same currency are pending unless the current one is marked as complete or cancelled\nTatum ledger transaction is created for every withdrawal request with operation type WITHDRAWAL The value of the transaction is the withdrawal amount  blockchain fee which should be paid\nIn the situation when there is withdrawal for ERC20 XLM or XRP based custom assets the fee is not included in the transaction because it is paid in different assets than the withdrawal itself\nrequestBody\nWithdrawal\nproperties\nsenderAccountId\ndescription Sender account ID\nmaxLength 24\nminLength 24\ntype string\naddress\ndescription Blockchain address to send assets to For BTC LTC DOGE and BCH it is possible to enter list of multiple recipient blockchain addresses as a comma separated string\nmaxLength 10000\nminLength 1\ntype string\namount\ndescription Amount to be withdrawn to blockchain\nmaxLength 38\ntype string\npattern ddd\nattr\ndescription Used to parametrize withdrawal Used for XRP withdrawal to define destination tag of recipient or XLM memo of the recipient if needed\nFor Bitcoin Litecoin Bitcoin Cash used as a change address for left coins from transaction\nmaxLength 64\nminLength 1\ntype string\ncompliant\ndescription Compliance check if withdrawal is not compliant it will not be processed\ntype boolean\nfee\ndescription Fee to be submitted as a transaction fee to blockchain\ntype string\npattern ddd\nmultipleAmounts\ndescription For BTC LTC DOGE and BCH it is possible to enter list of multiple recipient blockchain amounts List of recipient addresses must be present in the address field and total sum of amounts must be equal to the amount field\ntype array\nitems\ntype string\npattern ddd\npaymentId\ndescription Identifier of the payment shown for created Transaction within Tatum sender account\nmaxLength 100\nminLength 1\ntype string\nsenderNote\ndescription Note visible to owner of withdrawing account\nmaxLength 500\nminLength 1\ntype string\nrequired\namount\nsenderAccountId\naddress\nfee\ntype object\nrequired True\nresponses\n200\nWithdrawalResponse\nproperties\nreference\ndescription Transaction reference of the transaction connected to this withdrawal\ntype string\ndata\nResponseData\ntype object\nproperties\nAddress\nrequired\naddress\ncurrency\nproperties\naddress\ndescription Blockchain address\ntype string\ncurrency\ndescription Currency of generated address BTC LTC DOGE BCH ETH XRP XLM BNB TRX ERC20 TRC20\ntype string\nderivationKey\ndescription Derivation key index for given address\nformat int32\ntype integer\nmaximum 2147483647\nxpub\ndescription Extended public key to derive address from In case of XRP this is account address since address is defined as DestinationTag which is address field In case of XLM this is account address since address is defined as message which is address field\ntype string\ndestinationTag\ndescription In case of XRP destinationTag is the distinguisher of the account\ntype number\nmemo\ndescription In case of BNB message is the distinguisher of the account\ntype string\nmessage\ndescription In case of XLM message is the distinguisher of the account\ntype string\ntype object\namount\ndescription Amount of unprocessed transaction outputs that can be used for withdrawal Bitcoin Litecoin Bitcoin Cash only\ntype number\nvIn\ndescription Last used unprocessed transaction output that can be used Bitcoin Litecoin Bitcoin Cash only If 1 it indicates prepared vOut with amount to be transferred to pool address\ntype string\nvInIndex\ndescription Index of last used unprocessed transaction output in raw transaction that can be used Bitcoin Litecoin Bitcoin Cash only\ntype integer\nscriptPubKey\ntype string\ndescription Script of last unprocessed UTXO Bitcoin SV only\ntype array\nid\ndescription ID of withdrawal\ntype string\ntype object\ndescription OK"}