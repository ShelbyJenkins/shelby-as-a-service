{"metadata": {"tag": "Requests", "tag_number": 0, "doc_number": 107, "operation_id": "getrequeststatistics", "doc_url": "https://stackpath.dev/reference/getrequeststatistics", "server_url": "https://gateway.stackpath.com/waf/v1/stacks/{stack_id}/sites/{site_id}/request_stats"}, "content": "path /waf/v1/stacks/stackid/sites/siteid/requeststats\noperationId GetRequestStatistics\nparameters\nname stackid\ndescription A stack ID or slug\nin path\nrequired True\nschema\ntype string\nname siteid\ndescription A site ID\nin path\nrequired True\nschema\ntype string\nname startdate\ndescription A lower bound date to search requests for\nin query\nrequired False\nschema\ntype string\nformat datetime\nname enddate\ndescription An upper bound date to search requests for\nin query\nrequired False\nschema\ntype string\nformat datetime\nname filteractionvalue\nin query\nrequired False\nschema\ntype string\ndefault ANYACTION\nname filterresultvalue\nin query\nrequired False\nschema\ntype string\ndefault ANYRESULT\nname filterclientip\ndescription Filter requests by client IP address\nin query\nrequired False\nschema\ntype string\nname filterreferenceid\ndescription Filter requests by reference ID Reference IDs are displayed to the end user when the WAF blocks a request to a site Please note that a requests ID and reference ID are different\nin query\nrequired False\nschema\ntype string\nsummary Get request statistics\ndescription Request statistics collect the total number of and number of blocked requests for a site over a given time frame Statistics are collected per country of origin the rules that triggered the WAF the requesting organization as determined by WHOIS lookup against the client IP address and by actions taken by the WAF as a result of the request\nresponses\n200\nwafGetRequestStatisticsResponse\ntype object\nwafRequestStatistics\ntype object\nproperties\nRequestStatisticsMetrics\ntype object\nproperties\nrules\ntype array\nMetricsRules\ntype object\nproperties\nruleName\ntype string\ndescription The name of the rule\ncount\ntype string\ndescription The number of requests the rule analyzed\ndescription The top threats metric the number of requests encountered per rule\ndescription The top threats metric the number of requests encountered per rule\ncountries\ntype array\nMetricsCountries\ntype object\nproperties\ncountry\ntype string\ndescription A countrys long name\ncountryCode\ntype string\ndescription A countrys ISO 31661 alpha2 code\ncount\ntype string\ndescription The number of requests from the country\ndescription The number of requests per country of origin\ndescription The number of requests per country of origin\norganizations\ntype array\nMetricsOrganizations\ntype object\nproperties\norganization\ntype string\ndescription An organizations name\ncount\ntype string\ndescription The number of requests from the organization\ndescription The number of requests per requesting organization as determined by WHOIS lookup on the requesting IP\ndescription The number of requests per requesting organization as determined by WHOIS lookup on the requesting IP\nactions\ntype array\nMetricsActions\ntype object\nproperties\nwafRuleAction\ntype string\ndefault BLOCK\ndescription The actions that the WAF takes when a rule is triggered\n\n BLOCK The WAF blocked the request\n  ALLOW The WAF allowed the request\n  CAPTCHA The WAF presented the user with a captcha\n  HANDSHAKE The WAF performed automatic browser validation\n  MONITOR The WAF monitored the request but took no action\n  GATEWAY The WAF performed extended automatic browser validation\ncount\ntype string\ndescription The number of requests that resulted in that action\ndescription The number of requests per action taken by the WAF\ndescription The number of requests per action taken by the WAF\ndescription A collection of common request metrics for a single WAF action\ndescription A collection of common request metrics\ndescription A response from a request to retrieve a WAF sites request statistics"}