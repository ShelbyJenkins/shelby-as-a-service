{
    "tag": "Order Book",
    "operation_id": "storeTrade",
    "doc_url": "https://apidoc.tatum.io/tag/Order Book#operation/storeTrade",
    "server_url": "https://api.tatum.io/v3/trade",
    "content": "path /v3/trade\noperationid storetrade\nsummary store buy / sell trade\ndescription 2 credits for api call 2 credits for each fill of the counter trade 1 api call  2 fills   6 credits\nstore new buy / sell trade if there is trade already available to fill fill as much trades as possible\nit is possible to charge fees for the trades fees are an extra amount on top of the trade amount and are paid in the currency that you going to block\neg\n buy btc/usdt  fees will be paid in usdt\n sell btc/eth  fees will be paid in btc\n\n\n\nif you fill type of the trade with futurebuy or futuresell the trade will behave as a trade future the trade is concluded now but will be fulfilled in future\nthe date of fulfillment is by the \u201cseal date\u201d field you can also block a percentage of the amount until the future trade has expired\n\nfutures can also penalize contracting parties if they don\u2019t have the agreed balance available in their accounts\nthe penalty is calculated in the following way penalty amount  percentage of incomplete deal amount because of shortage from user \u00d7 maximum penalty percentage of futures deal based on blocked amount and time interval \u00d7 total blocked value\n\nexample of the btc/usdt trade future\nthe maker creates a sell with the following properties 1 btc at a price of 60000 usdt with a blocking percentage of 22 a penalty percentage of 45 a system commision of 1 and with an expiration time of within 12 hours\n\n\n  type futuresell\n  price 60000\n  amount 1\n  pair btc/usdt\n  currency1accountid 60a236db1b57f60d62612bf3\n  currency2accountid 609d0696bf835c241ac2920f\n  fee 1\n  feeaccountid 609d0696bf835c251ac2920a\n  attr \n    sealdate 1621990960631\n    percentblock 22\n    percentpenalty 45\n  \n\n\n\nthe taker accepts the offer with a buy and blocks 13200 usdt 60000 usdt \u00d7 022 in their account\n\n\n  type futurebuy\n  price 60000\n  amount 1\n  pair btc/usdt\n  currency1accountid 60a236db1b57f60d62612bf2\n  currency2accountid 609d0696bf835c241ac2920a\n  attr \n    sealdate 1621990960631\n    percentblock 22\n    percentpenalty 45\n  \n\n\nat the time of the trade the maker and taker have the following conditions\nthe maker has 065 btc 35 deficit in their account and the taker has 49200 usdt 18 deficit in their account\n\n\n\nthe maker penalty is equal to 035 \u00d7 022 \u00d7 045 \u00d7 1 btc  003465 btc\nthe taker penalty is equal to 018 \u00d7 022 \u00d7 045 \u00d7 60000 usdt  10692 usdt\n\n\nthe system commission for the maker is 1 btc \u00d7 1  001 btc\nthe system commission for the taker is 60000 usdt \u00d7 1  600 usdt\n\n\nthe maker\u2019s assets after deducting penalties and commissions equals 065  003465  001  060535 btc the taker\u2019s assets after deducting penalties and commissions equals 49200  10692  600  475308 usdt\n\n\nthe amount received by the maker after the trade is 060535 \u00d7 60000  10692  373902 usdt and the taker receives 060535  003465  064 btc\nrequestbody\noneof\ncreatetrade\ntype object\nrequired\ntype\nprice\namount\npair\ncurrency1accountid\ncurrency2accountid\nproperties\ntype\ntype string\ndescription type of the regular trade buy sell\nprice\ntype string\ndescription price to buy / sell\nmaxlength 38\npattern ddd\namount\ntype string\ndescription amount of the trade to be bought / sold\nmaxlength 38\npattern ddd\npair\ntype string\ndescription trading pair\nminlength 3\nmaxlength 30\npattern aazz09/azaz09\ncurrency1accountid\ntype string\ndescription id of the account of the currency 1 trade currency\nminlength 24\nmaxlength 24\ncurrency2accountid\ntype string\ndescription id of the account of the currency 2 trade currency\nminlength 24\nmaxlength 24\nfeeaccountid\ntype string\ndescription id of the account where fee will be paid if any if trade is a buy or futurebuy type feeaccountid must have same currency as a currency of currency2accountid and vice versa if trade is a sell or futuresell type feeaccountid must have same currency as a currency of currency1accountid\nminlength 24\nmaxlength 24\nfee\ntype number\ndescription percentage of the trade amount to be paid as a fee\nminimum 0\nmaximum 100\ncreatefuturetrade\ntype object\nrequired\ntype\nprice\namount\npair\ncurrency1accountid\ncurrency2accountid\nattr\nproperties\ntype\ntype string\ndescription type of future the trade futurebuy futuresell\nprice\ntype string\ndescription price to buy / sell\nmaxlength 38\npattern ddd\namount\ntype string\ndescription amount of the trade to be bought / sold\nmaxlength 38\npattern ddd\npair\ntype string\ndescription trading pair\nminlength 3\nmaxlength 30\npattern aazz09/azaz09\ncurrency1accountid\ntype string\ndescription id of the account of the currency 1 trade currency\nminlength 24\nmaxlength 24\ncurrency2accountid\ntype string\ndescription id of the account of the currency 2 trade currency\nminlength 24\nmaxlength 24\nfeeaccountid\ntype string\ndescription id of the account where fee will be paid if any if trade is a buy or futurebuy type feeaccountid must have same currency as a currency of currency2accountid and vice versa if trade is a sell or futuresell type feeaccountid must have same currency as a currency of currency1accountid\nminlength 24\nmaxlength 24\nfee\ntype number\ndescription percentage of the trade amount to be paid as a fee\nminimum 0\nmaximum 100\nattr\ntype object\ndescription additional attributes for the future type\nrequired\nsealdate\nproperties\nsealdate\ntype number\ndescription time in utc when the future will be filled\nminimum 0\npercentblock\ndescription percentage of the future amount which selling or buying account must have available on future creation this amount will be blocked till future is filled or expires\nminimum 0\nmaximum 100\npercentpenalty\ndescription if one of the parties dont have filled full amount of the future at the time of expiration the party will be penalized penalty is sent to opposite party in exchanged crypto\nminimum 0\nmaximum 100\nrequired true\nresponses\n200\nid\ntype object\nid\ntype string\ndescription id of the entity\ndescription ok",
    "tag_summary": "endpoint to handle order book operations like creating bid / ask trades between tatum private virtual accounts obtaining trade histories creating futures etc it is possible to build an exchange based on the ledger accounts",
    "tag_number": 37,
    "doc_number": 355,
    "title": "37_Order Book_storeTrade_355.json"
}